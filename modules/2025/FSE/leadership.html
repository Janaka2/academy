<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Janaka Academy &ndash; Coming Soon</title>
    <style>
        /* Simple reset and typography */
        body {
          margin: 0;
          padding: 0;
          font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
          display: flex;
          flex-direction: column;
          justify-content: center;
          align-items: center;
          min-height: 100vh;
          background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);
          color: #333;
        }

        h1 {
          font-size: 2.4rem;
          margin-bottom: 0.5rem;
          text-align: center;
        }

        p {
          max-width: 700px;
          margin: 0 1rem 1rem;
          font-size: 1.1rem;
          text-align: center;
          line-height: 1.4;
        }

        /* Game container styles */
        #gameContainer {
          position: relative;
          width: 90%;
          max-width: 600px;
          height: 200px;
          border: 2px solid #90caf9;
          border-radius: 12px;
          background-color: #ffffff;
          overflow: hidden;
          margin-top: 1.5rem;
          box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        #player {
          position: absolute;
          bottom: 0;
          left: 50px;
          width: 40px;
          height: 40px;
          border-radius: 8px;
          background-color: #66bb6a;
        }

        .obstacle {
          position: absolute;
          bottom: 0;
          right: -40px;
          width: 40px;
          height: 40px;
          border-radius: 6px;
          background-color: #ef5350;
        }

        #score {
          margin-top: 0.5rem;
          font-weight: 600;
        }

        #instructions {
          margin-top: 0.25rem;
          font-size: 0.9rem;
          color: #555;
        }
    </style>
</head>
<body>
<h1>Janaka Academy is Coming Soon!</h1>
<p>
    We're hard at work building something extraordinary for you. While you wait,
    enjoy this little game! Just jump over the obstacles to rack up points &ndash;
    nothing too serious, simply a playful distraction to put a smile on your
    face. Press the spacebar or tap/click inside the game area to jump.
</p>
<div id="gameContainer">
    <div id="player"></div>
</div>
<div id="score">Score: 0</div>
<div id="instructions">Press spacebar or tap/click to jump</div>

<script>
    /*
      Simple endless runner game.
      The player jumps over moving obstacles. Score increases
      over time. When the player hits an obstacle, the game resets.
    */
    const gameContainer = document.getElementById('gameContainer');
    const player = document.getElementById('player');
    let obstacles = [];
    let isJumping = false;
    let jumpVelocity = 0;
    let gravity = 0.6;
    let playerY = 0;
    let score = 0;
    let gameLoopInterval;
    let obstacleInterval;

    function startGame() {
      // Reset state
      obstacles.forEach((o) => gameContainer.removeChild(o));
      obstacles = [];
      isJumping = false;
      jumpVelocity = 0;
      playerY = 0;
      score = 0;
      player.style.bottom = '0px';
      document.getElementById('score').innerText = 'Score: 0';
      clearInterval(gameLoopInterval);
      clearInterval(obstacleInterval);
      gameLoopInterval = setInterval(gameLoop, 20);
      obstacleInterval = setInterval(createObstacle, 1500);
    }

    function createObstacle() {
      const obs = document.createElement('div');
      obs.classList.add('obstacle');
      // Random width/height between 20 and 40 px
      const size = 20 + Math.random() * 20;
      obs.style.width = size + 'px';
      obs.style.height = size + 'px';
      obs.style.right = '-40px';
      gameContainer.appendChild(obs);
      obstacles.push(obs);
    }

    function jump() {
      // Only jump if on the ground
      if (!isJumping && playerY === 0) {
        isJumping = true;
        jumpVelocity = 11;
      }
    }

    function gameLoop() {
      // Handle jumping physics
      if (isJumping) {
        playerY += jumpVelocity;
        jumpVelocity -= gravity;
        if (playerY <= 0) {
          playerY = 0;
          isJumping = false;
        }
        player.style.bottom = playerY + 'px';
      }
      // Move obstacles and detect collisions
      for (let i = 0; i < obstacles.length; i++) {
        const obs = obstacles[i];
        const currentRight = parseFloat(obs.style.right);
        obs.style.right = currentRight + 4 + 'px';
        // Remove when out of bounds
        if (currentRight > gameContainer.offsetWidth + 50) {
          gameContainer.removeChild(obs);
          obstacles.splice(i, 1);
          i--;
          continue;
        }
        // Collision detection
        const playerRect = player.getBoundingClientRect();
        const obsRect = obs.getBoundingClientRect();
        // Adjust for page scroll by using boundingRect
        if (
          playerRect.right > obsRect.left &&
          playerRect.left < obsRect.right &&
          playerRect.bottom > obsRect.top &&
          playerRect.top < obsRect.bottom
        ) {
          endGame();
          return;
        }
      }
      // Update score
      score++;
      document.getElementById('score').innerText = 'Score: ' + score;
    }

    function endGame() {
      clearInterval(gameLoopInterval);
      clearInterval(obstacleInterval);
      setTimeout(() => {
        const restart = confirm(
          'Game over! Your score was ' +
            score +
            '. Would you like to play again?'
        );
        if (restart) {
          startGame();
        }
      }, 100);
    }

    // Controls
    document.addEventListener('keydown', (e) => {
      if (e.code === 'Space') {
        jump();
      }
    });
    // Click or tap inside the game to jump
    gameContainer.addEventListener('click', () => {
      jump();
    });
    gameContainer.addEventListener('touchstart', (e) => {
      e.preventDefault();
      jump();
    });

    // Start on load
    startGame();
</script>
</body>
</html>